package com.daniel.udemyAnnotation;

import java.io.FileReader;
import java.io.IOException;
import java.io.LineNumberReader;
import java.util.Random;

public class FileFortuneService implements FortuneService {
	static String[] fortuneArray;
	public static void main(String[] args)throws IOException{
		try{
		LineNumberReader lineReader = new LineNumberReader(new FileReader("C:\\Users\\Daniel\\Desktop\\diff\\difffile1.txt"));
		int index=0;
		while(lineReader.readLine()!=null){
			
			index++;
			System.out.println(lineReader.getLineNumber()+" index "+index);
		}
		fortuneArray = new String[index];
	
	lineReader.setLineNumber(0);
	for (int i = 0; i <= index; i++) {
		fortuneArray[i]=lineReader.readLine();
	}
	lineReader.close();}catch(Exception e){
		e.printStackTrace();
	}
		
	}
	private Random rand = new Random();
	@Override
	public String getFortune() {
		try{
		return fortuneArray[rand.nextInt(fortuneArray.length)];
	}catch(Exception e){
		e.printStackTrace();
		return "error";
	}
		}

}
